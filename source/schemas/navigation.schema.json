{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://vtex.com/schemas/navigation.json",
  "title": "VTEX Documentation Navigation Schema",
  "description": "Schema for VTEX documentation portal navigation structure",
  "type": "object",
  "required": ["navbar"],
  "properties": {
    "navbar": {
      "type": "array",
      "description": "Top-level navigation sections",
      "items": {
        "$ref": "#/definitions/navbarItem"
      }
    }
  },
  "definitions": {
    "navbarItem": {
      "type": "object",
      "description": "A top-level navigation section",
      "required": ["documentation", "name", "slugPrefix", "categories"],
      "properties": {
        "documentation": {
          "type": "string",
          "description": "Identifier for the documentation section",
          "examples": ["tracks", "tutorials", "announcements", "faq", "known-issues", "troubleshooting"]
        },
        "name": {
          "$ref": "#/definitions/localizedString",
          "description": "Localized name of the section"
        },
        "slugPrefix": {
          "type": "string",
          "description": "URL prefix for this section",
          "examples": ["docs/tracks", "docs/tutorials"]
        },
        "categories": {
          "type": "array",
          "description": "Categories within this section",
          "items": {
            "$ref": "#/definitions/navigationNode"
          }
        }
      }
    },
    "navigationNode": {
      "type": "object",
      "description": "A navigation node that can be either a category or a document",
      "required": ["name", "slug", "type", "children"],
      "properties": {
        "name": {
          "$ref": "#/definitions/localizedString",
          "description": "Localized name of the node"
        },
        "slug": {
          "oneOf": [
            {
              "type": "string",
              "description": "Simple slug string"
            },
            {
              "$ref": "#/definitions/localizedString",
              "description": "Localized slug object"
            }
          ],
          "description": "URL slug for this node (can be string or localized object)"
        },
        "origin": {
          "type": "string",
          "description": "Origin field (typically empty)",
          "default": ""
        },
        "type": {
          "type": "string",
          "enum": ["category", "markdown"],
          "description": "Type of node: 'category' for containers, 'markdown' for documents"
        },
        "children": {
          "type": "array",
          "description": "Child nodes (categories or documents)",
          "items": {
            "$ref": "#/definitions/navigationNode"
          }
        }
      }
    },
    "localizedString": {
      "type": "object",
      "description": "Object containing localized strings for different languages",
      "required": ["en", "es", "pt"],
      "properties": {
        "en": {
          "type": "string",
          "description": "English translation"
        },
        "es": {
          "type": "string",
          "description": "Spanish translation"
        },
        "pt": {
          "type": "string",
          "description": "Portuguese translation"
        }
      },
      "additionalProperties": false
    }
  }
}
